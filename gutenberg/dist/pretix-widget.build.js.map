{"version":3,"file":"pretix-widget.build.js","mappings":"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","sources":["webpack://pretix-widget/./src/blocks/pretix-widget/edit.js","webpack://pretix-widget/./src/blocks/pretix-widget/index.js","webpack://pretix-widget/./src/blocks/pretix-widget/save.js"],"sourcesContent":["const {useEffect, useState} = wp.element;\r\nconst { registerBlockType } = wp.blocks;\r\nconst { __ } = wp.i18n;\r\nconst { TextControl, ToggleControl, SelectControl, PanelBody, ToolbarGroup } = wp.components;\r\nconst { serverSideRender: ServerSideRender } = wp;\r\n\r\nconst {\r\n\tInnerBlocks,\r\n\tuseBlockProps,\r\n\tInspectorControls,\r\n\tBlockControls,\r\n\tstore\r\n} = wp.blockEditor;\r\n\r\nexport default function Edit(props) {\r\n\tconst {\r\n\t\tattributes,\r\n\t\tsetAttributes,\r\n\t} = props;\r\n\t\r\n\t// add defaults to attributes\r\n\tconst {\r\n\t\talign,\r\n\t\tmode = 'widget',\r\n\t\tdisplay = 'list',\r\n\t\tshop_url = '',\r\n\t\tevent = '',\r\n\t\titems = '',\r\n\t\tcategories = '',\r\n\t\tvariations = '',\r\n\t\tdisable_voucher = false,\r\n\t\tallocated_voucher = '',\r\n\t\tlanguage = 'en',\r\n\t\tbutton_text = 'Buy Ticket!',\r\n\t} = attributes;\r\n\t\r\n\tfunction handleChange(key, value) {\r\n\t\tsetAttributes({ [key]: value });\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\t//window.PretixWidget.readyStateChange(); // Trigger the readyStateChange function after ServerSideRender is done\r\n\t\tconst script = document.createElement(\"script\");\r\n\t\tscript.src = 'https://pretix.eu/widget/v1.'+language+'.js';\r\n\t\tscript.async = true;\r\n\t\tdocument.body.appendChild(script);\r\n\t\t\r\n\t}, []);\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BlockControls>\r\n\t\t\t\t<ToolbarGroup>\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\tlabel={__('Align', 'pretix-widget')}\r\n\t\t\t\t\t\tvalue={align}\r\n\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t{ value: 'left', label: __('Left', 'pretix-widget') },\r\n\t\t\t\t\t\t\t{ value: 'center', label: __('Center', 'pretix-widget') },\r\n\t\t\t\t\t\t\t{ value: 'right', label: __('Right', 'pretix-widget') },\r\n\t\t\t\t\t\t\t{ value: 'wide', label: __('Wide', 'pretix-widget') },\r\n\t\t\t\t\t\t\t{ value: 'full', label: __('Full', 'pretix-widget') },\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tonChange={(value) => setAttributes({ align: value })}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ToolbarGroup>\r\n\t\t\t</BlockControls>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody title={__('Settings', 'pretix-widget')} initialOpen={true}>\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\tlabel={__('Mode', 'pretix-widget')}\r\n\t\t\t\t\t\tvalue={mode}\r\n\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t{ value: 'widget', label: __('Widget', 'pretix-widget') },\r\n\t\t\t\t\t\t\t{ value: 'button', label: __('Button', 'pretix-widget') },\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tonChange={(value) => handleChange('mode', value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{mode === 'button' && (\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\tlabel={__('Button Text', 'pretix-widget')}\r\n\t\t\t\t\t\t\tvalue={button_text}\r\n\t\t\t\t\t\t\tonChange={(value) => handleChange('button_text', value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tlabel={__('Shop URL', 'pretix-widget')}\r\n\t\t\t\t\t\tvalue={shop_url}\r\n\t\t\t\t\t\tonChange={(value) => handleChange('shop_url', value)}\r\n\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tlabel={__('Event', 'pretix-widget')}\r\n\t\t\t\t\t\tvalue={event}\r\n\t\t\t\t\t\tonChange={(value) => handleChange('event', value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tlabel={__('Items', 'pretix-widget')}\r\n\t\t\t\t\t\tvalue={items}\r\n\t\t\t\t\t\tonChange={(value) => handleChange('items', value)}\r\n\t\t\t\t\t\thelp={__('Enter a comma-separated list of ID numbers.', 'pretix-widget')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tlabel={__('Categories', 'pretix-widget')}\r\n\t\t\t\t\t\tvalue={categories}\r\n\t\t\t\t\t\tonChange={(value) => handleChange('categories', value)}\r\n\t\t\t\t\t\thelp={__('Enter a comma-separated list of ID numbers.', 'pretix-widget')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tlabel={__('Variations', 'pretix-widget')}\r\n\t\t\t\t\t\tvalue={variations}\r\n\t\t\t\t\t\tonChange={(value) => handleChange('variations', value)}\r\n\t\t\t\t\t\thelp={__('Enter a comma-separated list of ID numbers.', 'pretix-widget')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tlabel={__('Allocated Voucher', 'pretix-widget')}\r\n\t\t\t\t\t\tvalue={allocated_voucher}\r\n\t\t\t\t\t\tonChange={(value) => handleChange('allocated_voucher', value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\tlabel={__('Display', 'pretix-widget')}\r\n\t\t\t\t\t\tvalue={display}\r\n\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t{ value: 'list', label: __('List', 'pretix-widget') },\r\n\t\t\t\t\t\t\t{ value: 'grid', label: __('Grid', 'pretix-widget') },\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tonChange={(value) => handleChange('display', value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\tlabel={__('Disable Voucher', 'pretix-widget')}\r\n\t\t\t\t\t\tchecked={disable_voucher}\r\n\t\t\t\t\t\tonChange={(value) => handleChange('disable_voucher', value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\tlabel={__('Default Language', 'pretix-widget')}\r\n\t\t\t\t\t\tvalue={language}\r\n\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t{ value: 'de', label: __('German', 'pretix-widget') },\r\n\t\t\t\t\t\t\t{ value: 'en', label: __('English', 'pretix-widget') },\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tonChange={(value) => handleChange('language', value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</PanelBody>\r\n\t\t\t</InspectorControls>\r\n\t\t\t\r\n\t\t\t<ServerSideRender\r\n\t\t\t\tblock=\"pretix/widget\"\r\n\t\t\t\tattributes={attributes}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","const { registerBlockType } = wp.blocks;\r\n\r\nimport metadata from './block.json';\r\nimport edit from './edit.js';\r\nimport save from './save.js';\r\n\r\nregisterBlockType('pretix-widget/widget', {\r\n\t...metadata,\r\n\tedit,\r\n\tsave,\r\n});\r\n","export default function save(props) {\r\n\treturn null;\r\n}"],"names":["_wp$element","wp","element","useEffect","__","useState","blocks","registerBlockType","i18n","_wp$components","components","TextControl","ToggleControl","SelectControl","PanelBody","ToolbarGroup","ServerSideRender","serverSideRender","_wp$blockEditor","blockEditor","InspectorControls","InnerBlocks","useBlockProps","BlockControls","store","_objectSpread","metadata","edit","props","attributes","setAttributes","align","_attributes$mode","mode","_attributes$display","display","_attributes$shop_url","shop_url","_attributes$event","event","_attributes$items","items","_attributes$categorie","categories","_attributes$variation","variations","_attributes$disable_v","disable_voucher","_attributes$allocated","allocated_voucher","_attributes$language","language","_attributes$button_te","button_text","handleChange","key","value","_defineProperty","script","document","createElement","src","async","body","appendChild","React","Fragment","label","options","onChange","title","initialOpen","type","help","checked","block","save"],"sourceRoot":""}